main mlp framework, source code